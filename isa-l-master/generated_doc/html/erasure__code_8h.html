<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Intel Intelligent Storage Acceleration Library: erasure_code.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Intel Intelligent Storage Acceleration Library
   &#160;<span id="projectnumber">2.30.0</span>
   </div>
   <div id="projectbrief">ISA-L API reference doc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('erasure__code_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">erasure_code.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface to functions supporting erasure code encode and decode.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="gf__vect__mul_8h_source.html">gf_vect_mul.h</a>&quot;</code><br/>
</div>
<p><a href="erasure__code_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a22b53cd4103da9ed88c351e7045ff313"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#a22b53cd4103da9ed88c351e7045ff313">ec_init_tables</a> (int k, int rows, unsigned char *a, unsigned char *gftbls)</td></tr>
<tr class="memdesc:a22b53cd4103da9ed88c351e7045ff313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize tables for fast Erasure Code encode and decode.  <a href="#a22b53cd4103da9ed88c351e7045ff313">More...</a><br/></td></tr>
<tr class="separator:a22b53cd4103da9ed88c351e7045ff313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590b5c35075aeea1243a9e4ef73a49d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#a590b5c35075aeea1243a9e4ef73a49d4">ec_encode_data</a> (int len, int k, int rows, unsigned char *gftbls, unsigned char **data, unsigned char **coding)</td></tr>
<tr class="memdesc:a590b5c35075aeea1243a9e4ef73a49d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate or decode erasure codes on blocks of data, runs appropriate version.  <a href="#a590b5c35075aeea1243a9e4ef73a49d4">More...</a><br/></td></tr>
<tr class="separator:a590b5c35075aeea1243a9e4ef73a49d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa486278c409735df8001096ac2b487dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#aa486278c409735df8001096ac2b487dd">ec_encode_data_base</a> (int len, int srcs, int dests, unsigned char *v, unsigned char **src, unsigned char **dest)</td></tr>
<tr class="memdesc:aa486278c409735df8001096ac2b487dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate or decode erasure codes on blocks of data, runs baseline version.  <a href="#aa486278c409735df8001096ac2b487dd">More...</a><br/></td></tr>
<tr class="separator:aa486278c409735df8001096ac2b487dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa4553065d7e00c1984621e7e1af9ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#a0fa4553065d7e00c1984621e7e1af9ae">ec_encode_data_update</a> (int len, int k, int rows, int vec_i, unsigned char *g_tbls, unsigned char *data, unsigned char **coding)</td></tr>
<tr class="memdesc:a0fa4553065d7e00c1984621e7e1af9ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate update for encode or decode of erasure codes from single source, runs appropriate version.  <a href="#a0fa4553065d7e00c1984621e7e1af9ae">More...</a><br/></td></tr>
<tr class="separator:a0fa4553065d7e00c1984621e7e1af9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc2a6a0f0d32db4079ceb07b0482625"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#a1cc2a6a0f0d32db4079ceb07b0482625">ec_encode_data_update_base</a> (int len, int k, int rows, int vec_i, unsigned char *v, unsigned char *data, unsigned char **dest)</td></tr>
<tr class="memdesc:a1cc2a6a0f0d32db4079ceb07b0482625"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate update for encode or decode of erasure codes from single source.  <a href="#a1cc2a6a0f0d32db4079ceb07b0482625">More...</a><br/></td></tr>
<tr class="separator:a1cc2a6a0f0d32db4079ceb07b0482625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17799d49d9b83861322ebf314a55f77f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#a17799d49d9b83861322ebf314a55f77f">gf_vect_dot_prod_base</a> (int len, int vlen, unsigned char *gftbls, unsigned char **src, unsigned char *dest)</td></tr>
<tr class="memdesc:a17799d49d9b83861322ebf314a55f77f"><td class="mdescLeft">&#160;</td><td class="mdescRight">GF(2^8) vector dot product, runs baseline version.  <a href="#a17799d49d9b83861322ebf314a55f77f">More...</a><br/></td></tr>
<tr class="separator:a17799d49d9b83861322ebf314a55f77f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce05684e168d73773847a3c2c13c175"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#a6ce05684e168d73773847a3c2c13c175">gf_vect_dot_prod</a> (int len, int vlen, unsigned char *gftbls, unsigned char **src, unsigned char *dest)</td></tr>
<tr class="memdesc:a6ce05684e168d73773847a3c2c13c175"><td class="mdescLeft">&#160;</td><td class="mdescRight">GF(2^8) vector dot product, runs appropriate version.  <a href="#a6ce05684e168d73773847a3c2c13c175">More...</a><br/></td></tr>
<tr class="separator:a6ce05684e168d73773847a3c2c13c175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f15336f98bcbdbc529a4ff6b0eda5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#ae9f15336f98bcbdbc529a4ff6b0eda5e">gf_vect_mad</a> (int len, int vec, int vec_i, unsigned char *gftbls, unsigned char *src, unsigned char *dest)</td></tr>
<tr class="memdesc:ae9f15336f98bcbdbc529a4ff6b0eda5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">GF(2^8) vector multiply accumulate, runs appropriate version.  <a href="#ae9f15336f98bcbdbc529a4ff6b0eda5e">More...</a><br/></td></tr>
<tr class="separator:ae9f15336f98bcbdbc529a4ff6b0eda5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c7c97f0822bbb4803a6fb6b98db8e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#af2c7c97f0822bbb4803a6fb6b98db8e5">gf_vect_mad_base</a> (int len, int vec, int vec_i, unsigned char *v, unsigned char *src, unsigned char *dest)</td></tr>
<tr class="memdesc:af2c7c97f0822bbb4803a6fb6b98db8e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">GF(2^8) vector multiply accumulate, baseline version.  <a href="#af2c7c97f0822bbb4803a6fb6b98db8e5">More...</a><br/></td></tr>
<tr class="separator:af2c7c97f0822bbb4803a6fb6b98db8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73ea8358bc3155c7f3a6c078a7d6d35"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#ac73ea8358bc3155c7f3a6c078a7d6d35">gf_mul</a> (unsigned char a, unsigned char b)</td></tr>
<tr class="memdesc:ac73ea8358bc3155c7f3a6c078a7d6d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single element GF(2^8) multiply.  <a href="#ac73ea8358bc3155c7f3a6c078a7d6d35">More...</a><br/></td></tr>
<tr class="separator:ac73ea8358bc3155c7f3a6c078a7d6d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a484460566a8c888fda3d769324461345"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#a484460566a8c888fda3d769324461345">gf_inv</a> (unsigned char a)</td></tr>
<tr class="memdesc:a484460566a8c888fda3d769324461345"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single element GF(2^8) inverse.  <a href="#a484460566a8c888fda3d769324461345">More...</a><br/></td></tr>
<tr class="separator:a484460566a8c888fda3d769324461345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81be18ea979e8a32f384e1a7856badcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#a81be18ea979e8a32f384e1a7856badcf">gf_gen_rs_matrix</a> (unsigned char *a, int m, int k)</td></tr>
<tr class="memdesc:a81be18ea979e8a32f384e1a7856badcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a matrix of coefficients to be used for encoding.  <a href="#a81be18ea979e8a32f384e1a7856badcf">More...</a><br/></td></tr>
<tr class="separator:a81be18ea979e8a32f384e1a7856badcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd549f435ee28276b5a9408a3a6256b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#afd549f435ee28276b5a9408a3a6256b1">gf_gen_cauchy1_matrix</a> (unsigned char *a, int m, int k)</td></tr>
<tr class="memdesc:afd549f435ee28276b5a9408a3a6256b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a Cauchy matrix of coefficients to be used for encoding.  <a href="#afd549f435ee28276b5a9408a3a6256b1">More...</a><br/></td></tr>
<tr class="separator:afd549f435ee28276b5a9408a3a6256b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad808efb2e8af3803571c0a6c7c9faf39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="erasure__code_8h.html#ad808efb2e8af3803571c0a6c7c9faf39">gf_invert_matrix</a> (unsigned char *in, unsigned char *out, const int n)</td></tr>
<tr class="memdesc:ad808efb2e8af3803571c0a6c7c9faf39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invert a matrix in GF(2^8)  <a href="#ad808efb2e8af3803571c0a6c7c9faf39">More...</a><br/></td></tr>
<tr class="separator:ad808efb2e8af3803571c0a6c7c9faf39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface to functions supporting erasure code encode and decode. </p>
<p>This file defines the interface to optimized functions used in erasure codes. Encode and decode of erasures in GF(2^8) are made by calculating the dot product of the symbols (bytes in GF(2^8)) across a set of buffers and a set of coefficients. Values for the coefficients are determined by the type of erasure code. Using a general dot product means that any sequence of coefficients may be used including erasure codes based on random coefficients. Multiple versions of dot product are supplied to calculate 1-6 output vectors in one pass. Base GF multiply and divide functions can be sped up by defining GF_LARGE_TABLES at the expense of memory size. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a590b5c35075aeea1243a9e4ef73a49d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ec_encode_data </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>gftbls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>coding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate or decode erasure codes on blocks of data, runs appropriate version. </p>
<p>Given a list of source data blocks, generate one or multiple blocks of encoded data as specified by a matrix of GF(2^8) coefficients. When given a suitable set of coefficients, this function will perform the fast generation or decoding of Reed-Solomon type erasure codes.</p>
<p>This function determines what instruction sets are enabled and selects the appropriate version at runtime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>Length of each block of data (vector) of source or dest data. </td></tr>
    <tr><td class="paramname">k</td><td>The number of vector sources or rows in the generator matrix for coding. </td></tr>
    <tr><td class="paramname">rows</td><td>The number of output vectors to concurrently encode/decode. </td></tr>
    <tr><td class="paramname">gftbls</td><td>Pointer to array of input tables generated from coding coefficients in <a class="el" href="erasure__code_8h.html#a22b53cd4103da9ed88c351e7045ff313" title="Initialize tables for fast Erasure Code encode and decode. ">ec_init_tables()</a>. Must be of size 32*k*rows </td></tr>
    <tr><td class="paramname">data</td><td>Array of pointers to source input buffers. </td></tr>
    <tr><td class="paramname">coding</td><td>Array of pointers to coded output buffers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="aa486278c409735df8001096ac2b487dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ec_encode_data_base </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>srcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate or decode erasure codes on blocks of data, runs baseline version. </p>
<p>Baseline version of <a class="el" href="erasure__code_8h.html#a590b5c35075aeea1243a9e4ef73a49d4" title="Generate or decode erasure codes on blocks of data, runs appropriate version. ">ec_encode_data()</a> with same parameters. </p>

</div>
</div>
<a class="anchor" id="a0fa4553065d7e00c1984621e7e1af9ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ec_encode_data_update </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vec_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>g_tbls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>coding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate update for encode or decode of erasure codes from single source, runs appropriate version. </p>
<p>Given one source data block, update one or multiple blocks of encoded data as specified by a matrix of GF(2^8) coefficients. When given a suitable set of coefficients, this function will perform the fast generation or decoding of Reed-Solomon type erasure codes from one input source at a time.</p>
<p>This function determines what instruction sets are enabled and selects the appropriate version at runtime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>Length of each block of data (vector) of source or dest data. </td></tr>
    <tr><td class="paramname">k</td><td>The number of vector sources or rows in the generator matrix for coding. </td></tr>
    <tr><td class="paramname">rows</td><td>The number of output vectors to concurrently encode/decode. </td></tr>
    <tr><td class="paramname">vec_i</td><td>The vector index corresponding to the single input source. </td></tr>
    <tr><td class="paramname">g_tbls</td><td>Pointer to array of input tables generated from coding coefficients in <a class="el" href="erasure__code_8h.html#a22b53cd4103da9ed88c351e7045ff313" title="Initialize tables for fast Erasure Code encode and decode. ">ec_init_tables()</a>. Must be of size 32*k*rows </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to single input source used to update output parity. </td></tr>
    <tr><td class="paramname">coding</td><td>Array of pointers to coded output buffers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a1cc2a6a0f0d32db4079ceb07b0482625"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ec_encode_data_update_base </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vec_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate update for encode or decode of erasure codes from single source. </p>
<p>Baseline version of <a class="el" href="erasure__code_8h.html#a0fa4553065d7e00c1984621e7e1af9ae" title="Generate update for encode or decode of erasure codes from single source, runs appropriate version...">ec_encode_data_update()</a>. </p>

</div>
</div>
<a class="anchor" id="a22b53cd4103da9ed88c351e7045ff313"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ec_init_tables </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>gftbls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize tables for fast Erasure Code encode and decode. </p>
<p>Generates the expanded tables needed for fast encode or decode for erasure codes on blocks of data. 32bytes is generated for each input coefficient.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>The number of vector sources or rows in the generator matrix for coding. </td></tr>
    <tr><td class="paramname">rows</td><td>The number of output vectors to concurrently encode/decode. </td></tr>
    <tr><td class="paramname">a</td><td>Pointer to sets of arrays of input coefficients used to encode or decode data. </td></tr>
    <tr><td class="paramname">gftbls</td><td>Pointer to start of space for concatenated output tables generated from input coefficients. Must be of size 32*k*rows. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="afd549f435ee28276b5a9408a3a6256b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf_gen_cauchy1_matrix </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a Cauchy matrix of coefficients to be used for encoding. </p>
<p>Cauchy matrix example of encoding coefficients where high portion of matrix is identity matrix I and lower portion is constructed as 1/(i + j) | i != j, i:{0,k-1} j:{k,m-1}. Any sub-matrix of a Cauchy matrix should be invertable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>[m x k] array to hold coefficients </td></tr>
    <tr><td class="paramname">m</td><td>number of rows in matrix corresponding to srcs + parity. </td></tr>
    <tr><td class="paramname">k</td><td>number of columns in matrix corresponding to srcs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a81be18ea979e8a32f384e1a7856badcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf_gen_rs_matrix </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a matrix of coefficients to be used for encoding. </p>
<p>Vandermonde matrix example of encoding coefficients where high portion of matrix is identity matrix I and lower portion is constructed as 2^{i*(j-k+1)} i:{0,k-1} j:{k,m-1}. Commonly used method for choosing coefficients in erasure encoding but does not guarantee invertable for every sub matrix. For large pairs of m and k it is possible to find cases where the decode matrix chosen from sources and parity is not invertable. Users may want to adjust for certain pairs m and k. If m and k satisfy one of the following inequalities, no adjustment is required:</p>
<ul>
<li>k &lt;= 3</li>
<li>k = 4, m &lt;= 25</li>
<li>k = 5, m &lt;= 10</li>
<li>k &lt;= 21, m-k = 4</li>
<li>m - k &lt;= 3.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>[m x k] array to hold coefficients </td></tr>
    <tr><td class="paramname">m</td><td>number of rows in matrix corresponding to srcs + parity. </td></tr>
    <tr><td class="paramname">k</td><td>number of columns in matrix corresponding to srcs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a484460566a8c888fda3d769324461345"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char gf_inv </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single element GF(2^8) inverse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Input element </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Field element b such that a x b = {1} </dd></dl>

</div>
</div>
<a class="anchor" id="ad808efb2e8af3803571c0a6c7c9faf39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gf_invert_matrix </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invert a matrix in GF(2^8) </p>
<p>Attempts to construct an n x n inverse of the input matrix. Returns non-zero if singular. Will always destroy input matrix in process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>input matrix, destroyed by invert process </td></tr>
    <tr><td class="paramname">out</td><td>output matrix such that [in] x [out] = [I] - identity matrix </td></tr>
    <tr><td class="paramname">n</td><td>size of matrix [nxn] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 successful, other fail on singular input matrix </dd></dl>

</div>
</div>
<a class="anchor" id="ac73ea8358bc3155c7f3a6c078a7d6d35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char gf_mul </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single element GF(2^8) multiply. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Multiplicand a </td></tr>
    <tr><td class="paramname">b</td><td>Multiplicand b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Product of a and b in GF(2^8) </dd></dl>

</div>
</div>
<a class="anchor" id="a6ce05684e168d73773847a3c2c13c175"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf_vect_dot_prod </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>gftbls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GF(2^8) vector dot product, runs appropriate version. </p>
<p>Does a GF(2^8) dot product across each byte of the input array and a constant set of coefficients to produce each byte of the output. Can be used for erasure coding encode and decode. Function requires pre-calculation of a 32*vlen byte constant array based on the input coefficients.</p>
<p>This function determines what instruction sets are enabled and selects the appropriate version at runtime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>Length of each vector in bytes. Must be &gt;= 32. </td></tr>
    <tr><td class="paramname">vlen</td><td>Number of vector sources. </td></tr>
    <tr><td class="paramname">gftbls</td><td>Pointer to 32*vlen byte array of pre-calculated constants based on the array of input coefficients. </td></tr>
    <tr><td class="paramname">src</td><td>Array of pointers to source inputs. </td></tr>
    <tr><td class="paramname">dest</td><td>Pointer to destination data array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a17799d49d9b83861322ebf314a55f77f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf_vect_dot_prod_base </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>gftbls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GF(2^8) vector dot product, runs baseline version. </p>
<p>Does a GF(2^8) dot product across each byte of the input array and a constant set of coefficients to produce each byte of the output. Can be used for erasure coding encode and decode. Function requires pre-calculation of a 32*vlen byte constant array based on the input coefficients.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>Length of each vector in bytes. Must be &gt;= 16. </td></tr>
    <tr><td class="paramname">vlen</td><td>Number of vector sources. </td></tr>
    <tr><td class="paramname">gftbls</td><td>Pointer to 32*vlen byte array of pre-calculated constants based on the array of input coefficients. Only elements 32*CONST*j + 1 of this array are used, where j = (0, 1, 2...) and CONST is the number of elements in the array of input coefficients. The elements used correspond to the original input coefficients. </td></tr>
    <tr><td class="paramname">src</td><td>Array of pointers to source inputs. </td></tr>
    <tr><td class="paramname">dest</td><td>Pointer to destination data array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="ae9f15336f98bcbdbc529a4ff6b0eda5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf_vect_mad </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vec_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>gftbls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GF(2^8) vector multiply accumulate, runs appropriate version. </p>
<p>Does a GF(2^8) multiply across each byte of input source with expanded constant and add to destination array. Can be used for erasure coding encode and decode update when only one source is available at a time. Function requires pre-calculation of a 32*vec byte constant array based on the input coefficients.</p>
<p>This function determines what instruction sets are enabled and selects the appropriate version at runtime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>Length of each vector in bytes. Must be &gt;= 64. </td></tr>
    <tr><td class="paramname">vec</td><td>The number of vector sources or rows in the generator matrix for coding. </td></tr>
    <tr><td class="paramname">vec_i</td><td>The vector index corresponding to the single input source. </td></tr>
    <tr><td class="paramname">gftbls</td><td>Pointer to array of input tables generated from coding coefficients in <a class="el" href="erasure__code_8h.html#a22b53cd4103da9ed88c351e7045ff313" title="Initialize tables for fast Erasure Code encode and decode. ">ec_init_tables()</a>. Must be of size 32*vec. </td></tr>
    <tr><td class="paramname">src</td><td>Array of pointers to source inputs. </td></tr>
    <tr><td class="paramname">dest</td><td>Pointer to destination data array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="af2c7c97f0822bbb4803a6fb6b98db8e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf_vect_mad_base </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vec_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GF(2^8) vector multiply accumulate, baseline version. </p>
<p>Baseline version of <a class="el" href="erasure__code_8h.html#ae9f15336f98bcbdbc529a4ff6b0eda5e" title="GF(2^8) vector multiply accumulate, runs appropriate version. ">gf_vect_mad()</a> with same parameters. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="erasure__code_8h.html">erasure_code.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
